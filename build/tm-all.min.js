/** Prevent console.log from blowing up if it's not available. */if(!window.console||!window.console.log){var n=["log","debug","info","warn","error","assert","dir","dirxml","group","groupEnd","time","timeEnd","count","trace","profile","profileEnd"];window.console={};var noOp=function(){};for(var i=0;i<n.length;++i)window.console[n[i]]=noOp}window.jQuery||console.log("missing jQuery"),window.tm=window.tm||{},tm.namespace=function(e){var t=e.split("."),n=window;for(var r=0,i=t.length;r<i;r++){var s=n[t[r]];typeof s!="object"||jQuery.isArray(s)?n=n[t[r]]={}:n=s}},tm.resolveObject=function(e){var t=e.split("."),n=window;for(var r=0,i=t.length;r<i;r++){var s=n[t[r]];if(typeof s=="undefined")return undefined;n=s}return n},tm.combine=function(){var e={};for(var t=0,n=arguments.length;t<n;t++){var r=arguments[t];for(var i in r)r[i]!==null&&(e[i]=r[i])}return e},tm.widthCheck=function(e){var t=1252,n=$("body"),r="small-screen",i=e?screen.width:$(window).width(),s=i<=t;return s!==n.hasClass(r)&&n[s?"addClass":"removeClass"](r),s},tm.iOS=/iPhone|iPod|iPad/.test(navigator.userAgent),tm.hiResDisplay=!!(window.devicePixelRatio&&window.devicePixelRatio>=2),function(){function e(e){var t={};return t.create=function(t,n,r){var i="";if(r){var s=new Date;s.setTime(s.getTime()+r*24*60*60*1e3),i="; expires="+s.toUTCString()}e.cookie=t+"="+encodeURIComponent(n)+i+"; path=/"},t.read=function(t){var n=t+"=",r=e.cookie.split(";");for(var i=0;i<r.length;i++){var s=r[i];while(s.charAt(0)==" ")s=s.substring(1,s.length);if(s.indexOf(n)==0)return decodeURIComponent(s.substring(n.length,s.length))}return null},t.erase=function(e){t.create(e,"",-1)},t}typeof define=="function"&&define.amd?define(["document"],e):(tm.namespace("tm.cookie"),tm.cookie=e(document))}(),tm.namespace("tm.string"),tm.string.capitalize=function(e){return e.charAt(0).toLocaleUpperCase()+e.slice(1)},tm.string.uncapitalize=function(e){return e.charAt(0).toLocaleLowerCase()+e.slice(1)},tm.string.camelize=function(e){var t=e.split(/[_-]/);return _(t).map(function(e){return tm.string.capitalize(e)}).join("")},tm.string.lowerCamelize=function(e){return tm.string.uncapitalize(tm.string.camelize(e))},tm.string.truncate=function(e,t){return t>=e.length?e:e.substring(0,t-3)+"..."},tm.string.validateEmail=function(e){return e?/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e):!1},tm.namespace("tm.date"),tm.date.formatYMD=function(e){var t=e.getMonth()<9?"0"+(e.getMonth()+1):e.getMonth()+1,n=e.getDate()<9?"0"+e.getDate():e.getDate();return e.getFullYear()+"-"+t+"-"+n},tm.date.formatMDY=function(e){return e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear()},tm.date.prettyPrint=tm.date.formatMDY,tm.date.offsetDays=function(e,t){return e.setDate(e.getDate()+t),e},tm.date.prettyPrintMS=function(e){var t=0,n=0;return e>0&&(t=Math.floor(e/6e4),n=Math.floor((e-t*6e4)/1e3)),n<=9&&(n="0"+n),t+":"+n},function(){"use strict";function e(e){return{make:function(t,n){var r=this;e.fn[t]=function(){var i=Array.prototype.slice.call(arguments),s;return this.each(function(o,u){var a=e.data(u,t);a||(a=e.extend({},r.mixin,n.prototype),n.call(a,u,i[0]),e.data(u,t,a));if(typeof i[0]=="string"){var f=i[0],l=a[f]||function(){throw new Error("Not a function: "+f)};s=l.apply(a,i.slice(1))}}),typeof s!="undefined"?s:this}},mixin:{destroy:function(){e.removeData(this.element)},option:function(e,t){var n=typeof t!="undefined"?"set":"get",r=n+e.replace(/^\w/,function(e){return e.toUpperCase()});return this[r]&&this[r](t)}}}}typeof define=="function"&&define.amd?define(["jquery"],e):(tm.namespace("tm.widgets"),tm.widgets.widgetFactory=e($))}(),function(){"use strict";function e(e,t){function r(t){return e("<p/>").text(""+t)}function i(t,r){var i=e('<button type="button" class="btn"></button>').text(t.text);n[t.type]&&i.addClass(n[t.type]),t.callback&&i.click(function(e){t.callback.call(this,e,r)});if(t.attributes)for(var s in t.attributes)t.attributes.hasOwnProperty(s)&&i.attr(s,t.attributes[s]);return i}var n={primary:"btn-primary",action:"btn-success"},s={text:t.getMsg("tm.widgets.modalDialog.ok"),type:"primary",callback:function(e,t){t.modal("hide")}},o={renderer:r,content:null,title:null,buttons:[s]},u=function(t,n){n=e.extend({},o,n),this.element=t.addClass("modal hide"),this.header=t.children(".modal-header"),this.body=t.children(".modal-body"),this.footer=t.children(".modal-footer"),this.renderer=n.renderer;if(!this.header.length&&!this.body.length&&!this.footer.length){var r=t.children().detach();this.body=e('<div class="modal-body"></div>').append(r).appendTo(t)}if(!this.header.length){var s=e("<h3/>").text(n.title);this.header=e('<div class="modal-header"></div>').append(s).prependTo(t)}if(!this.footer.length){var u=e();for(var a=0;a<n.buttons.length;a++)u.add(i(n.buttons[a]));this.footer=e('<div class="modal-footer"></div>').append(u).appendTo(t)}n.content!=="null"&&this.body.append(n.renderer(n.content)),this.element.modal({keyboard:!1})};return u.prototype={show:function(){this.modal.modal("show")},hide:function(){this.modal.modal("hide")},setContent:function(e){this.body.empty().append(this.renderer(e))}},u}typeof define=="function"&&define.amd?define(["jquery","gadgets.Pref","bootstrap"],e):tm.widgets.widgetFactory.make("tmModalDialog",e($,gadgets.Pref()))}();