<!DOCTYPE html>
<html>
<head>
    <title>tm360 spec runner with requirejs</title>
    <link rel="stylesheet" type="text/css" href="lib/jasmine-1.2.0/jasmine.css">

    <!-- jquery version to support -->
    <script type="text/javascript">
        var jquery = {};
    </script>
    <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
    <script type="text/javascript" src="lib/bootstrap-2.2.2/js/bootstrap.min.js"></script>
    <script type="text/javascript">
        jquery['1.9.0'] = $.noConflict(true);
    </script>
    <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script type="text/javascript" src="lib/bootstrap-2.2.2/js/bootstrap.min.js"></script>
    <script type="text/javascript">
        jquery['1.8.3'] = $.noConflict(true);
    </script>
    <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script type="text/javascript" src="lib/bootstrap-2.2.2/js/bootstrap.min.js"></script>
    <script type="text/javascript">
        jquery['1.7.2'] = $.noConflict(true);
    </script>

    <script type="text/javascript" src="lib/jasmine-1.2.0/jasmine.js"></script>
    <script type="text/javascript" src="lib/jasmine-1.2.0/jasmine-html.js"></script>
    <script type="text/javascript" src="lib/require-2.1.2/require.js"></script>
    <script type="text/javascript">
        (function() {
            var jasmineEnv = jasmine.getEnv();

            jasmineEnv.updateInterval = 1000;

            var htmlReporter = new jasmine.HtmlReporter();

            jasmineEnv.addReporter(htmlReporter);

            jasmineEnv.specFilter = function(spec) {
                return htmlReporter.specFilter(spec);
            };

            requirejs.config({
                baseUrl: 'js',
                paths: {
                    injectable: '../plugin/injectable',
                    widget: '../plugin/widget',
                    spec: '../spec',
                    mock: '../mock'
                },
                shim: {
                    'spec/all': ['injectable']
                }
            });

            define('console', [], function() {
                return console;
            });

            define('window', [], function() {
                return window;
            });

            define('document', [], function() {
                return document;
            });

            define('navigator', [], function() {
                return navigator;
            });

            define('gadgets', ['mock/gadgetPrefMock'], function(gadgetPrefMock) {
                var pref = gadgetPrefMock({});

                return {
                    Pref: function() {
                        return pref;
                    }
                }
            });

            define('jquery', [], function() {
                return jquery['1.7.2'];
            });

            define('bootstrap', ['jquery'], function($) {
                return $;
            });

            requirejs(['spec/all'], function() {
                jasmineEnv.execute();
            });

        })();
    </script>
</head>
<body>
</body>
</html>