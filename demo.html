<!DOCTYPE html>
<!-- 
    Demo page for implementation of shared and UX spec'd Reusable Components
    https://confluence.tm.tmcs/confluence/display/UE/TM360+SDK+-+Reusable+UI+Components
-->
<html lang="en">
    <head>
        <meta http-equiv="content-type" content="text/html;charset=utf-8"/>
        <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1"/>

        <title>tm360 Shared UI Demo</title>

        <!-- 3rd party Shared CSS Libs (not in git repo) -->
        <link rel="stylesheet" href="https://portal.shared.dev2.websys.tmcs/shared/css/lib/normalize-1.1.0.css" />
        <link rel="stylesheet" href="https://portal.shared.dev2.websys.tmcs/shared/css/lib/bootstrap-2.1.0/css/bootstrap.min.css" />

        <!-- tm360 Shared-UI CSS -->
        <link rel="stylesheet" href="css/tm360-base.css" />
        <link rel="stylesheet" href="css/tm360-universal.css" />

        <!-- tm360 Shared-UI LESS (Add *.less files to "less/" folder, then include them here) -->
        <link rel="stylesheet/less" type="text/css" href="less/tm360-sample.less" />

        <!-- a few styles for demo pages only -->
        <link rel="stylesheet" href="css/demo.css" />

        <!-- 
            Client-side LESS compiler for development.
            - Append #!watch to URL to enable *.less file watch mode.
        -->
        <script type="text/javascript">
            less = {
                env: "development"
            };
        </script>
        <script src="lib/less-1.3.3/less-1.3.3.min.js"></script>
        <!-- Note: LESS files will be compiled to CSS via command line before checking into tm360 versioned "shared" folder for deployment. -->

        <script>
            // mock gadgets.Prefs for modalDialog
            var Prefs = function(){};
            Prefs.prototype.getMsg = function() {};
            gadgets = {Prefs : Prefs};
        </script>

    </head>
    <body class="tm360">
        <div id="container">
            <div class="container-fluid" style="background-color: #EBEBEE;">
                <div class="row-fluid">
                    <div class="span12">
                        <h1>Shared UI Demos</h1>
                        <p style="padding-left: 1em" id="pIntro">This is the demo page for tm360 Shared-UI components. </p>
                        <p style="padding-left: 1em">Javascript unit tests are available for <a href="specRunner.html" target="_blank">utility methods</a> and <a href="specRunner-requirejs.html" target="_blank">Widgets (uses RequireJS)</a>.</p>
                        <p>&nbsp;</p>
                    </div>
                </div>

                <div class="row-fluid">
                    <div class="span3">
                        <h5>Snap Width</h5>
                    </div>
                    <div class="span9">
                        <div class="well">
                            <p>This page has 2-width snapping enabled. The content width will be set to 944px or 1252px depending on the total available width of the browser window.</p>
                            <div>
                                <a href="demo/index.html?url=demo%2FsnapWidth-examples%2Fall" target="_blank">See more snap-width samples</a>
                            </div>
                        </div>
                    </div>
                </div> <!-- .row-fluid -->

                <div class="row-fluid">
                    <div class="span3">
                        <h5>Primary Text Styles</h5>
                    </div>
                    <div class="span9">
                        <div class="well">
                            <h1>30px Museo Sans 500 &lt;h1&gt; <a href="javascript:;">with link style</a></h1>
                            <h2>24px Museo Sans 500 &lt;h2&gt; <a href="javascript:;">with link style</a></h2>
                            <p>14px Arial Regular &lt;p&gt; <a href="javascript:;">with link style</a></p>
                            <div>
                                <a href="demo/index.html?url=demo%2FtextStyles-examples%2Fall" target="_blank">See more Text Style samples</a>
                            </div>
                        </div>
                    </div>
                </div> <!-- .row-fluid -->

                <div class="row-fluid">
                    <div class="span3">
                        <h5>Search and Filter</h5>
                    </div>
                    <div class="span9">
                        <div class="well">
                            <div id="search-filter-container">
                                <form class="form-search">
                                    <div style="position: relative;">
                                        <input type="text" class="input-medium search-query" placeholder="Search" />
                                        <i class="search-clear-icon"></i>
                                    </div>
                                </form>
                            </div>
                            <div>
                                <a href="demo/index.html?url=demo%2FsearchAndFilter-examples%2Fall" target="_blank">See more Search and Filter samples</a>
                            </div>
                        </div>
                    </div>
                </div> <!-- .row-fluid -->

                <div class="row-fluid">
                    <div class="span3">
                        <h5>Text Input Fields</h5>
                    </div>
                    <div class="span9">
                        <form>
                            <div class="well">
                                <div class="control-group">
                                    <label class="control-label" for="input1">Input Label</label>
                                    <div class="controls">
                                        <input type="text" id="input1" />
                                    </div>
                                </div>
                                <div class="control-group">
                                    <div class="controls">
                                        <input type="text" value="Disabled" disabled />
                                    </div>
                                </div>
                                <div class="control-group">
                                    <label class="control-label" for="textarea1">Textarea Label</label>
                                    <div class="controls">
                                        <textarea id="textarea1" rows="3"></textarea>
                                    </div>
                                </div>
                                <div class="control-group error">
                                    <label class="control-label" for="input2">Input Error</label>
                                    <div class="controls">
                                        <input type="text" id="input2" value="invalid text" />
                                        <i class="help-error-icon"></i>
                                        <span class="help-error">Error help text</span>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div> <!-- .row-fluid -->

                <div class="row-fluid">
                    <div class="span3">
                        <h5>Buttons</h5>
                    </div>
                    <div class="span9">
                        <form>
                            <div class="well">
                                <div class="control-group">
                                    <div class="controls">
                                        <button type="button" class="btn btn-primary">Primary</button>
                                        <button type="button" class="btn btn-primary disabled" disabled>Disabled</button>
                                    </div>
                                </div>
                                <div class="control-group">
                                    <div class="controls">
                                        <button type="button" class="btn">Secondary</button>
                                        <button type="button" class="btn disabled" disabled>Disabled</button>
                                    </div>
                                </div>
                                <div class="control-group">
                                    <div class="controls">
                                        <button type="button" class="btn btn-success">Important</button>
                                        <button type="button" class="btn btn-success disabled" disabled>Disabled</button>
                                    </div>
                                </div>
                                <div>
                                    <a href="demo/index.html?url=demo%2Fbuttons-examples%2Fall" target="_blank">See more buttons</a>
                                </div>
                            </div>
                        </form>
                    </div>
                </div> <!-- .row-fluid -->

                <!--
                <div class="row-fluid">
                    <div class="span3">
                        <h5>3. Loading Spinners</h5>
                    </div>
                    <div class="span3">
                        <div class="well">
                            24x24: <img src="css/img/spinner-24x24.gif" />
                        </div>
                    </div>
                    <div class="span3">
                        <div class="well">
                            16x16: <img src="css/img/loader_16px_on_fff.gif" />
                        </div>
                    </div>
                </div>--> <!-- .row-fluid -->

                <div class="row-fluid">
                    <div class="span3">
                        <h5>Modal Dialog</h5>
                    </div>
                    <div class="span9">
                        <div class="well">
                            <div class="control-group">
                                <div id="button-list"></div>
                                <button type="button" id="button-list-button" class="btn btn-primary">Click me</button>
                            </div>
                            <div>
                                <a href="demo/index.html?url=demo%2FmodalDialog-examples%2Fall" target="_blank">See more modal dialogs</a>
                            </div>
                        </div>
                    </div>
                </div> <!-- .row-fluid -->

                <!-- 
                <div class="row-fluid">
                    <div class="span3">
                        <h5>ShortLink Component</h5>
                    </div>
                    <div class="span9">
                        <div class="well">
                            <p>Click to generate a sample (non-working) shortlink:  
                                <button class="shortlink-btn btn">
                                    <img src="css/img/link-icon.png"/></button>
                            </p>
                            <p>And another, where the popover appears to the right:
                                <button class="shortlink-btn btn" data-placement="right">
                                    <img src="css/img/link-icon.png"/></button>
                            </p>
                            <p>See the <a href="https://confluence.tm.tmcs/confluence/display/PJ31/URL+Shortening+in+tm360" target="_blank">URL Shortening in tm360</a> Confluence page for more info.</p>
                        </div>
                    </div>
                </div> --> <!-- .row-fluid -->                

            </div>

        </div>

        <!-- 3rd party Shared JS Libs (not in git repo) -->
        <script src="https://portal.shared.dev2.websys.tmcs/shared/js/lib/jquery-1.7.2.min.js"></script>
        <script src="https://portal.shared.dev2.websys.tmcs/shared/js/lib/jquery.ba-throttle-debounce-1.1.min.js"></script>
        <script src="https://portal.shared.dev2.websys.tmcs/shared/js/lib/underscore_1.3.3.min.js"></script>
        <script src="https://portal.shared.dev2.websys.tmcs/shared/js/lib/bootstrap-2.1.0.min.js"></script>        

        <!-- tm360 Shared-UI JS -->
        <script src="js/tm/core.js"></script>
        <script src="js/tm/widgets/widgetFactory.js"></script>
        <script src="js/tm/widgets/modalDialog.js"></script>
        <script src="js/tm/widgets/searchAndFilter.js"></script>

        <script>
            (function(){

                function adjustDisplayArea(){
                    // check/apply 'small-screen' class to body for 2-width container
                    tm.widthCheck();
                    // check on resize too, throttling calls to once every 200ms
                    var resizeHandler = $.throttle(200, function(){
                        tm.widthCheck();
                    });
                    $(window).resize( resizeHandler );
                }

                function activateSearchFields(){
                    $("input.search-query[placeholder]").tmSearchAndFilter();
                }

                function activateModalDialog(){
                    var yesButton = {
                        text: 'Yes',
                        type: 'primary',
                        callback: function(e, dialog) {
                            dialog.tmModalDialog('hide');
                        }
                    };

                    var noButton = {
                        text: 'No',
                        callback: function(e, dialog) {
                            dialog.tmModalDialog('hide');
                        }
                    };

                    var dialog = $('#button-list').tmModalDialog({
                        title: 'button-list',
                        content: 'Are you sure?',
                        buttons: [noButton, yesButton]
                    });

                    $('#button-list-button').click(function() {
                        dialog.tmModalDialog('show');
                    });
                }

                function init(){
                    adjustDisplayArea();
                    activateSearchFields();
                    activateModalDialog();
                }

                // jquery onload
                $(init);

            })();
        </script>

    </body>
</html>
